<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
      
      
      function replacer(key, value)  {
        if (value instanceof File) {
          return ['name', 'size', 'type'].reduce(function(acc, key) {
            acc[key] = replacer(key, value[key]);
            return acc;
          }, {});
        }
        return value;
      }
      
      function preview(form) {
        var data = document.querySelector('#data')
        var txt = JSON.stringify(
          objectFromFormData(form),
          replacer, 2);
        data.innerHTML = txt;
        data.classList.remove('hidden');
        data.scrollIntoView();
      }
      

// var formdata = new FormData();
// formdata.append("cloud_provider", "aws");
// formdata.append("accesstype", "authorized");
// formdata.append("bucket_name", "exltrinity");
// formdata.append("ufile", fileInput.files[0], "EY-To-Hire-9000-AIML-Skilled-Professionals-In-India-In-2021.jpeg");
// formdata.append("featuretype", "listfiles");
// formdata.append("file_download", "ctc_calculator.xlsx");
// formdata.append("exptime", "60");

// var requestOptions = {
//   method: 'POST',
//   body: formdata,
//   redirect: 'follow'
// };

// fetch("http://192.168.1.21:5200/cloudagnostic/", requestOptions)
//   .then(response => response.text())
//   .then(result => console.log(result))
//   .catch(error => console.log('error', error));

      
      </script>
</head>
<body>
    <div class="grid" style="border: 1px solid red;
    display: grid;
    grid-template-columns: 50% 50%;
    grid-auto-rows: 50vh 50vh;">
        <div class="item" style="border: 1px solid black;">
            <div class="container-fluid" align="center">
                <h2>Upload Section</h2>
                <div class="row">
                  <div class="col-md-8">
                    <div id="playground" class="border rounded my-3 p-3">
              <form id="myForm" name="myForm">
              <div class="row mb-1">
                <div class="col-md-3">Feature Type</div>
                <div class="col">
                  <input type="text" placeholder="Functionality Name" class="form-control" name="featuretype" access="false" id="featuretype" required="required" aria-required="true">
                </div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Cloud Provider</div>
                <div class="col"><input type="text" class="form-control" name="cloud_provider" placeholder="Cloud Name" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Bucket Name</div>
                <div class="col"><input type="text" class="form-control" name="bucket_name" placeholder="Container Name inside Cloud" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Upload File</div>
                <div class="col"><input type="file" class="form-control" name="ufile" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Upload File</div>
                <div class="col"><input type="submit" value="Submit"/></div>
              </div>
              </div>
              </form>
              </div>
                  </div>
                
                </div>
              </div>
        <div class="item" style="border: 1px solid black;">
            <div class="container-fluid">
                <div class="row">
                  <div class="col-md-8">
                    <div id="playground" class="border rounded my-3 p-3">
              <form id="profileForm" name="profileForm">
              <div class="row mb-1">
                <div class="col-md-3">Name</div>
                <div class="col"><input type="text" class="form-control" name="name" placeholder="Name" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">URL</div>
                <div class="col"><input type="text" class="form-control" name="url" placeholder="URL" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Country</div>
                <div class="col"><input type="text" class="form-control" id="country" placeholder="Country" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Photo</div>
                <div class="col"><input type="file" class="form-control" name="photo" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Hobbies</div>
                <div class="col">
              
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Sports" name="hobbies" id="hobbies-Sports">
                    <label class="form-check-label" for="hobbies-Sports">Sports</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Music" name="hobbies" id="hobbies-Music">
                    <label class="form-check-label" for="hobbies-Music">Music</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Reading" name="hobbies" id="hobbies-Reading">
                    <label class="form-check-label" for="hobbies-Reading">Reading</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Painting" name="hobbies" id="hobbies-Painting">
                    <label class="form-check-label" for="hobbies-Painting">Painting</label>
                  </div>
                </div>
              </div>
              </form>
              
              <button class="btn btn-outline-primary" id="showData">Show Data</button>
              <button class="btn btn-outline-dark" id="showAllData">Show All Data</button>
              </div>
                  </div>
                  <div class="col-md-4">
                    <pre id="data" class="hidden border rounded my-3 p-3">
              </pre>
                  </div>
                </div>
              </div></div>
        <div class="item" style="border: 1px solid black;">
            <div class="container-fluid">
                <div class="row">
                  <div class="col-md-8">
                    <div id="playground" class="border rounded my-3 p-3">
              <form id="profileForm" name="profileForm">
              <div class="row mb-1">
                <div class="col-md-3">Name</div>
                <div class="col"><input type="text" class="form-control" name="name" placeholder="Name" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">URL</div>
                <div class="col"><input type="text" class="form-control" name="url" placeholder="URL" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Country</div>
                <div class="col"><input type="text" class="form-control" id="country" placeholder="Country" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Photo</div>
                <div class="col"><input type="file" class="form-control" name="photo" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Hobbies</div>
                <div class="col">
              
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Sports" name="hobbies" id="hobbies-Sports">
                    <label class="form-check-label" for="hobbies-Sports">Sports</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Music" name="hobbies" id="hobbies-Music">
                    <label class="form-check-label" for="hobbies-Music">Music</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Reading" name="hobbies" id="hobbies-Reading">
                    <label class="form-check-label" for="hobbies-Reading">Reading</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Painting" name="hobbies" id="hobbies-Painting">
                    <label class="form-check-label" for="hobbies-Painting">Painting</label>
                  </div>
                </div>
              </div>
              </form>
              
              <button class="btn btn-outline-primary" id="showData">Show Data</button>
              <button class="btn btn-outline-dark" id="showAllData">Show All Data</button>
              </div>
                  </div>
                  <div class="col-md-4">
                    <pre id="data" class="hidden border rounded my-3 p-3">
              </pre>
                  </div>
                </div>
              </div></div>
        <div class="item" style="border: 1px solid black;">
            <div class="container-fluid">
                <div class="row">
                  <div class="col-md-8">
                    <div id="playground" class="border rounded my-3 p-3">
              <form id="profileForm" name="profileForm">
              <div class="row mb-1">
                <div class="col-md-3">Name</div>
                <div class="col"><input type="text" class="form-control" name="name" placeholder="Name" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">URL</div>
                <div class="col"><input type="text" class="form-control" name="url" placeholder="URL" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Country</div>
                <div class="col"><input type="text" class="form-control" id="country" placeholder="Country" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Photo</div>
                <div class="col"><input type="file" class="form-control" name="photo" /></div>
              </div>
              <div class="row mb-1">
                <div class="col-md-3">Hobbies</div>
                <div class="col">
              
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Sports" name="hobbies" id="hobbies-Sports">
                    <label class="form-check-label" for="hobbies-Sports">Sports</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Music" name="hobbies" id="hobbies-Music">
                    <label class="form-check-label" for="hobbies-Music">Music</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Reading" name="hobbies" id="hobbies-Reading">
                    <label class="form-check-label" for="hobbies-Reading">Reading</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="Painting" name="hobbies" id="hobbies-Painting">
                    <label class="form-check-label" for="hobbies-Painting">Painting</label>
                  </div>
                </div>
              </div>
              </form>
              
              <button class="btn btn-outline-primary" id="showData">Show Data</button>
              <button class="btn btn-outline-dark" id="showAllData">Show All Data</button>
              </div>
                  </div>
                  <div class="col-md-4">
                    <pre id="data" class="hidden border rounded my-3 p-3">
              </pre>
                  </div>
                </div>
              </div></div>
      </div>      
</body>
<script>
const thisForm = document.getElementById('myForm');
thisForm.addEventListener('submit', async function (e) {
    e.preventDefault();
    const formData = new FormData(thisForm).entries()
    const response = await fetch('http://192.168.1.21:5200/cloudagnostic/', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(Object.fromEntries(formData))
    });

    const result = await response.json();
    console.log(result)
});
</script>
</div>
</html>